<div class="google-map section-{{ section.id }}">
    {% unless section.settings.full_width %}
    <div class="wide-width">
    {% endunless %}
      <div id="googleMap" style="width:100%;height:400px;"></div>
    {% unless section.settings.full_width %}
    </div>
    {% endunless %}
</div>

<script>
function myMap() {
var mapProp= {
  center:new google.maps.LatLng(51.508742,-0.120850),
  zoom:5,
};
var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
}
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key={{- section.settings.google_api -}}&callback=myMap"></script>
{% schema %}
{
  "name": "Map",
  "settings": [
    {
      "type": "text",
      "label": "Google API",
      "default": "Enter your api key",
      "id": "google_api"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "t:sections.all.make_section_full",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "Map"
    }
  ]
}
{% endschema %}